<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>处理1亿个QQ号 · Python每周挑战</title><meta name="description" content="“Python每周挑战” 是由“细学Python”QQ群发起的学习项目，每周精选一道Python高质量面试/练习题供群员练习，进行编程技能大PK。&lt;br&gt;最佳答案得主将获得 5.12 元挑战奖金并上“黑肉榜”（Hero Bang）。&lt;br&gt;上榜者将获妹纸关注，基友崇拜，企业青睐。"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/jekyll.css"><!--[if lt IE 9]>
<script src="js/html5shiv.min.js"></script>
<script src="js/respond.min.js"></script>
<![endif]--></head><body><header class="row-flex-row limit-width vh-center"><a href="/" class="logo"><img src="/favicon.png"></a><nav><ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-link">主页</a></li><li class="nav-list-item"><a href="/challenges/" class="nav-link active">历史挑战</a></li><li class="nav-list-item"><a href="/bang/" class="nav-link">黑肉榜</a></li><li class="nav-list-item"><a href="/news/" class="nav-link">新闻</a></li><li class="nav-list-item"><a href="/help/" class="nav-link">帮助</a></li><li class="nav-list-item"><a href="/atom.xml" target="_blank" class="nav-link">rss</a></li></ul></nav></header><div class="container limit-width"><section class="row-flex-row"><div class="post"><article class="post-block"><h2 class="post-title"><a href="/challenges/2015/12/20/handle-100-million-qq-numbers.html" class="post-title-link">处理1亿个QQ号</a></h2><div class="post-meta"><ul class="post-tag-list"><li class="post-tag-item"><a href="/tags/question/" class="post-tag-link">question</a></li></ul><div class="post-time">星期二, 十二月 22日 2015</div></div><div class="post-content"><h3 id="u9898_u76EE_u63CF_u8FF0"><a href="#u9898_u76EE_u63CF_u8FF0" class="headerlink" title="题目描述"></a>题目描述</h3><ol>
<li><p>请实现以下用于生成QQ号的函数。生成 1 亿个<strong>乱序排列</strong>且不重复的QQ号至 a.txt , 再生成 100 万个至 b.txt。注意：每个被选号码应是<strong>等概率随机</strong>抽取的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen_qq_numbers</span><span class="params">(m, n, k, output)</span>:</span></span><br><span class="line">   <span class="string">"""</span><br><span class="line">   用于生成QQ号的函数, 即[m, n]区间内k个不重复的等概率随机数。</span><br><span class="line">   :param m: int, 所生成的QQ号须大于正整数 m, 大于等于10000</span><br><span class="line">   :param n: int, 所生成的QQ号须小于正整数 n, 小于等于999999999</span><br><span class="line">   :param k: int, 一共生成 k 个QQ号</span><br><span class="line">   :param output: string, 文件名，生成结果保存至output中， 每行一个QQ号</span><br><span class="line">   """</span></span><br><span class="line">   <span class="comment"># TODO</span></span><br><span class="line">   <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>a.txt 中有 1 亿个， b.txt 中有 100 万个乱序排列的QQ号。实现并、交、差运算， 并分别输出结果至union.txt, intersection.txt, difference.txt 。</p>
</li>
</ol>
<h3 id="u9898_u76EE_u8981_u6C42"><a href="#u9898_u76EE_u8981_u6C42" class="headerlink" title="题目要求"></a>题目要求</h3><ol>
<li>所有输入输出均以UTF8编码形式处理；</li>
<li>只允许使用CPython标准库和内置函数提供的方法、模块；</li>
<li>以上两小题都必须能运行出结果才有可能获得 “参考答案” 的殊荣；</li>
<li>Python 版本仅限于 2.7 或 3.4+, 小版本号不限；</li>
<li>必须符合PEP8编码风格, 会进行编码风格检查.</li>
</ol>
<h3 id="u8BC4_u6BD4_u89C4_u5219"><a href="#u8BC4_u6BD4_u89C4_u5219" class="headerlink" title="评比规则"></a>评比规则</h3><p>  生成一次1亿个QQ号，交并差运算各执行一次，就算一遍完整的运行， 三遍完整的运行时间平均值用于评比。</p>
<ol>
<li>首选运行时间更少的；</li>
<li>若时间相差很小， 选代码行数(不算注释)更少的(我们认为符合编码规范的同时，更少的代码行在相当程度上意味着更简洁灵巧的解题思路)；</li>
<li>若代码行数相差很小， 选使用较新Python版本的；</li>
<li>以上两点相差很小的定量是：相比之下，更少的那个答案的10% ，如用时80s，那另一个必须要在88s之内完成，才进行下一项比拼;</li>
<li>同样的版本号下，选择使用了语言新特性的；</li>
<li>更倾向于新版本与新特性是为了鼓励程序猿与时俱进；</li>
<li>评比完成后，会在“参考答案”中写明和第二名相比，为何选择它作为第一名。</li>
</ol>
<h3 id="u63D0_u4EA4_u7B54_u6848"><a href="#u63D0_u4EA4_u7B54_u6848" class="headerlink" title="提交答案"></a>提交答案</h3><p>   参考 “帮助” 页面</p>
</div></article><div class="pagination"><span class="pagination-prev">PREV</span><span class="pagination-next">NEXT</span></div></div><aside class="sidebar"><h3>分类标签</h3><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/question/">question</a></li></ul><h3>最新文章</h3><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/challenges/2015/12/20/handle-100-million-qq-numbers.html">处理1亿个QQ号</a></li></ul></aside></section></div><div class="extra"></div><footer class="footer"><div class="row-flex-row limit-width vh-center"><div class="copyright"><P>©2015 <a href="/">阿驹</P></div><div class="power"><p><a href="https://hexo.io">Hexo</a>,
<a href="https://github.com/denglj">GitHub</a>,</p></div></div></footer><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>